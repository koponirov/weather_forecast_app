(this.webpackJsonpweather_forecast_app=this.webpackJsonpweather_forecast_app||[]).push([[0],{117:function(e,t,a){e.exports={header_container:"Header_header_container__WyXcg",toolbar:"Header_toolbar__1w_wn"}},137:function(e,t,a){e.exports={preloader_container:"Preloader_preloader_container__eihg0"}},155:function(e,t,a){e.exports=a(168)},160:function(e,t,a){},161:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(126),r=a(127),c=a(0),i=a.n(c),l=a(14),o=a.n(l),m=a(40),u=(a(160),a(161),a(82)),s=a(118),d=a(228),E=function(e){var t=e.label,a=void 0===t?"":t,n=e.name,r=e.placeholder,c=void 0===r?"Input city name to start, for example: Moscow":r;return i.a.createElement("div",{className:"FormikField"},i.a.createElement(u.b,{as:d.a,label:a,name:n,helperText:i.a.createElement(u.a,{name:n}),variant:"outlined",autoComplete:"off",placeholder:c,fullWidth:!0}))},v=a(212),f=a(34),h=a(211),y=Object(h.a)((function(e){return{container:{display:"flex",flexDirection:"column"},link:{textDecoration:"none"},btn:{marginRight:"20px"},btnContainer:{display:"flex",justifyContent:"center",margin:"20px 0"}}})),p=Object(f.b)("store")(Object(f.c)((function(e){var t=e.store;return i.a.createElement(b,{store:t})}))),b=function(e){var t=y(),a=s.a().shape({city:s.b().min(2,"Too short").max(25,"The longest city name is Aleksandrovsk-Sakhalinskiy").required("Please, type city name")});return i.a.createElement("div",null,i.a.createElement(u.d,{initialValues:{city:""},onSubmit:function(t){var a=t.city.charAt(0).toUpperCase()+t.city.slice(1);e.store.setCurrentCity(a)},validationSchema:a},(function(e){var a=e.dirty,n=e.isValid;return i.a.createElement(u.c,{className:t.container},i.a.createElement("div",null,i.a.createElement(E,{name:"city"})),i.a.createElement("div",{className:t.btnContainer},i.a.createElement(v.a,{disabled:!a||!n,type:"submit",variant:"contained",size:"large",color:"primary",className:t.btn},"Get forecast"),i.a.createElement(m.c,{to:"/list",className:t.link},i.a.createElement(v.a,{variant:"outlined",size:"large",color:"primary",className:t.btn},"favorites"))))})))},C=p,g=a(59),x=a(115),_=a(91);function j(){var e=Object(x.a)(["\nquery detailedCityWeather($city: String!) {\n  getWeather(cityName: $city) {\n    message\n    list {\n\n        main {\n            temp_c\n        }\n        dt\n        weather {\n            main\n        }\n        dt_txt\n    }\n  }\n}\n"]);return j=function(){return e},e}function O(){var e=Object(x.a)(["\n   query currentCityWeather($city: String!) {\n     getCurrentWeather(cityName: $city) {\n         weather {\n             main\n             description\n         }\n         main{\n             temp_c\n         }\n         name\n     }\n   }\n "]);return O=function(){return e},e}var N=Object(_.b)(O()),w=Object(_.b)(j()),k=a(213),S=a(216),F=a(214),W=a(215),L=a(46),B=a.n(L),T=Object(f.c)((function(e){var t=e.tempC,a=e.name,n=e.weather,r=e.store;return i.a.createElement("div",{className:B.a.container},i.a.createElement(k.a,{className:B.a.card},i.a.createElement(F.a,null,i.a.createElement(W.a,{variant:"h2",align:"center",gutterBottom:"true"},a),i.a.createElement(W.a,{variant:"h4",align:"center",gutterBottom:"true"},t," \u2103"),i.a.createElement(W.a,{color:"textSecondary",variant:"h4",align:"center"},n)),i.a.createElement(S.a,{className:B.a.container},r.favoriteCitiesList.some((function(e){return e===r.currentCity}))?i.a.createElement(W.a,{variant:"h6",color:"textSecondary",className:B.a.container},"this city is already in favorites"):i.a.createElement(v.a,{size:"small",color:"primary",align:"center",onClick:function(){return e=r.currentCity,void(r.favoriteCitiesList.some((function(t){return t===e}))||r.addCityToFavorites(e));var e}},"Add to favorites"))))})),H=a(229),z=a(139),I=function(e){return e.getCurrentWeather.main.temp_c.toFixed(1)},$=function(e){return e.getCurrentWeather.weather[0].main},q=a(217),A=a(137),D=a.n(A),J=function(){return i.a.createElement("div",{className:D.a.preloader_container},i.a.createElement(q.a,null))},M=Object(f.b)("store")(Object(f.c)((function(e){var t=e.store,a=t.currentCity,n=Object(g.a)(N,{variables:{city:a}}),r=n.loading,c=n.error,l=n.data;if(r)return i.a.createElement(J,null);if(c)return i.a.createElement(W.a,{variant:"h6",color:"textSecondary",className:B.a.container},"Invalid city name or connection problem");var o=I(l),m=function(e){return e.getCurrentWeather.name}(l),u=$(l);return i.a.createElement(T,{tempC:o,name:m,weather:u,store:t})}))),P=function(){return i.a.createElement("div",null,i.a.createElement(C,null),i.a.createElement(M,null))},U=a(18),V=a(221),G=a(222),R=a(223),X=a(218),K=a(220),Q=a(219),Y=a(210);function Z(e){var t=e.city,a=e.tempC,n=e.weather,r=e.path,c=e.store;return i.a.createElement(Y.a,null,i.a.createElement(X.a,{button:!0,component:m.b,to:r},i.a.createElement(Q.a,{container:!0,spacing:0},i.a.createElement(Q.a,{item:!0,xs:6,sm:3},i.a.createElement(W.a,{variant:"h5"},t)),i.a.createElement(Q.a,{item:!0,xs:6,sm:3},i.a.createElement(W.a,{variant:"h6",color:"textSecondary"},a," \u2103")),i.a.createElement(Q.a,{item:!0,xs:6,sm:3},i.a.createElement(W.a,{variant:"h6"},n))),i.a.createElement(K.a,null,i.a.createElement(V.a,{"aria-label":"delete",onClick:function(){return c.removeCityFromFavorites(t)}},i.a.createElement(G.a,{fontSize:"small"})))),i.a.createElement(R.a,null))}var ee=a(224),te=function(){return i.a.createElement(V.a,{"aria-label":"back"},i.a.createElement(ee.a,null))},ae=function(e){var t=e.city,a=e.store,n=Object(g.a)(N,{variables:{city:t}}),r=n.loading,c=n.error,l=n.data;if(r||!l)return i.a.createElement(J,null);if(c)return i.a.createElement(W.a,{variant:"h6",color:"textSecondary"},c.message);var o="/city/".concat(t),m=I(l),u=$(l);return i.a.createElement(Z,{city:t,store:a,tempC:m,path:o,weather:u})},ne=Object(f.b)("store")(Object(f.c)((function(e){var t=e.store;return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(m.c,{to:"/search"},i.a.createElement(te,null)),i.a.createElement(W.a,{variant:"h2",align:"center",gutterBottom:"true"},"Favorite cities")),t.favoriteCitiesList.length>0?i.a.createElement(Y.a,null,t.favoriteCitiesList.map((function(e){return i.a.createElement(ae,{key:e,city:e,store:t})}))):i.a.createElement(W.a,{variant:"h5",color:"textSecondary",align:"center",gutterBottom:"true"},"favorite cities not added yet, go back to Search"))}))),re=a(140);function ce(e){var t=e.date,a=e.tempC,n=e.weather;return i.a.createElement(Y.a,null,i.a.createElement(X.a,null,i.a.createElement(Q.a,{container:!0,spacing:0},i.a.createElement(Q.a,{item:!0,xs:12,sm:6},i.a.createElement(W.a,{variant:"h6"},t)),i.a.createElement(Q.a,{item:!0,xs:6,sm:3},i.a.createElement(W.a,{variant:"h6",color:"textSecondary",align:"left"},a," \u2103")),i.a.createElement(Q.a,{item:!0,xs:6,sm:3},i.a.createElement(W.a,{variant:"h6",align:"left"},n)))),i.a.createElement(R.a,null))}var ie=function(e){var t=e.data,a=function(e){var t=Object(H.a)(e.dt_txt,"UTC+00:00");return Object(z.a)(t,"EEEE (d.MM) HH:mm")}(t),n=function(e){return e.main.temp_c.toFixed(1)}(t),r=function(e){return e.weather[0].main}(t);return i.a.createElement(ce,{date:a,tempC:n,weather:r})},le=Object(re.a)(U.g)((function(e){var t=e.match.params.cityName,a=Object(g.a)(w,{variables:{city:t}}),n=a.loading,r=a.error,c=a.data;if(n)return i.a.createElement(J,null);if(r)return i.a.createElement(W.a,{variant:"h6",color:"textSecondary",className:B.a.container},"Invalid city name or connection problem");var l=c.getWeather.list.map((function(e){return i.a.createElement(ie,{key:e.dt,data:e})}));return i.a.createElement("div",null,i.a.createElement(m.c,{to:"/list"},i.a.createElement(te,null)),i.a.createElement(W.a,{variant:"h2",align:"center",gutterBottom:"true"},t),i.a.createElement(W.a,{variant:"h5",color:"textSecondary",align:"center",gutterBottom:"true"},"Detailed hourly forecast for the next 5 days:"),i.a.createElement("div",null,l))})),oe=a(227),me=a(226),ue=a(225),se=a(117),de=a.n(se),Ee=function(){return i.a.createElement(ue.a,{position:"static",className:de.a.header_container},i.a.createElement(me.a,{className:de.a.toolbar},i.a.createElement(W.a,{variant:"h3",align:"center"},"Weather forecast")))};var ve=function(){return i.a.createElement("section",null,i.a.createElement(Ee,null),i.a.createElement(oe.a,{className:"container"},i.a.createElement(U.d,null,i.a.createElement(U.b,{exact:!0,path:"/",render:function(){return i.a.createElement(U.a,{to:"/search"})}}),i.a.createElement(U.b,{path:"/search",render:function(){return i.a.createElement(P,null)}}),i.a.createElement(U.b,{path:"/list",render:function(){return i.a.createElement(ne,null)}}),i.a.createElement(U.b,{path:"/city/:cityName",render:function(){return i.a.createElement(le,null)}}))))},fe=a(9),he=a(29),ye=new _.a({uri:"https://7b3u2.sse.codesandbox.io/"}),pe=function(){function e(){var t=this;Object(n.a)(this,e),this.currentCity=" ",this.favoriteCitiesList=[],this.addCityToFavorites=function(e){t.favoriteCitiesList.push(e)},this.removeCityFromFavorites=function(e){t.favoriteCitiesList=t.favoriteCitiesList.filter((function(t){return t!==e}))}}return Object(r.a)(e,[{key:"setCurrentCity",value:function(e){this.currentCity=e}}]),e}();Object(fe.i)(pe,{currentCity:fe.n,favoriteCitiesList:fe.n,setCurrentCity:fe.f,addCityToFavorite:fe.f,removeCityFromFavorites:fe.f});var be=new pe;o.a.render(i.a.createElement(he.a,{client:ye},i.a.createElement(m.a,null,i.a.createElement(f.a,{store:be},i.a.createElement(ve,null)))),document.getElementById("root"))},46:function(e,t,a){e.exports={container:"WeatherCard_container__d9JPB",card:"WeatherCard_card__3WHj_"}}},[[155,1,2]]]);
//# sourceMappingURL=main.b88aa1e7.chunk.js.map